## 용어 정리

인증(Authentication)

- 회원임을 아이디랑 패스워드를 통해 인증받는것
- 로그인

인가(Authorization)

- 인증 후 내 계정으로만 할 수 있는 활동을 시도할 때 서버가 허가
- 로그인이 유지되는 상태에서 일어나는 일

access token

- 인가를 받을 때 사용하는 토큰

refresh token

- access token을 재발급하는 토큰

---

### 인가 방식

### 세션

- 메모리나 하드디스크, DB에 저장
- 쿠키에 들어있는 세션 ID로 현재 로그인 되어 있는지 체크
- stateful

단점

- 동시 접속하면 메모리 부족
- 휘발성이라 서버가 꺼지면 메모리에 있던 세션이 날라간다. → 다시 로그인을 해야한다.

→ 하드에 저장하면 날아가는건 방지하지만 메모리보다 느리다.

→ Redis 같은 인 메모리 DB에 저장 → 그래도 꺼지면 위험하다.

→ 이걸 해결하기 위해 JWT가 등장했다.

### JWT

- 인가와 관련
- Json Web Token
- header, payload, verify signature(서명)가 “.”을 기준으로 나뉜다.
- stateless

클라이언트에 토큰 주고 서버는 잊어버린다. → 토큰의 유효기간만 저장

단점

- 토큰이 한번 해커에게 탈취되면 해당 토큰이 만료되기 전까지는 피해를 입는다.

보완방법

- access, refresh 토큰을 발급, refresh는 db에 저장
- access 만료시간 줄이고, refresh 만료시간을 길게 만든다.
- refresh 토큰만 안전하게 관리하면 된다.

→ 완벽한 해결법은 아니다.

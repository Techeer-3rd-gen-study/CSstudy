### 용어 정리

- 메모리 : code data heap stack
- 실행 단위 : Cpu core에서 실행하는 하나의 단위. 프로세스와 스레드 포괄하는 개념
- 프로세스 : 일반적으로 하나의 스레드를 가지고 있는 단일 스레드 프로세스를 의미함
- 동시성 : 한 순간에 여러 일하는게 아니라 매우 짧은 전환으로 여러일을 동시에 처리하는 것처럼 보이게

## 프로그램 Program

: 컴퓨터에서 실행될 때 특정 작업을 수행하는 일련의 명령어 모음, **실행파일**
즉, 명령어의 모음일 뿐이지 무언가 일을 할 수 있는게 아님

EX. 실행파일(.exe) = 프로그램

프로그램이 실행된다 = 프로그램이 CPU를 할당받고 명령을 수행하고 있는 상태

## 프로세스 Process

: 프로그램을 구동하여, 프로그램 자체와 프로그램 상태가 메모리상에서 **실행되는 작업**

생성 시, PCB같이 생성됨 (Process Control Block)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b467091c-41c8-4ed4-b2aa-5fc452efe45f/Untitled.png)

```
**[ Process Control Block ]**

Pointer : 프로세스가 준비/대기 상태의 큐를 구현하기 위함
Process State : 프로세스 상태
Process Number(PID) : 프로세스 고유번호
Program Counter : 다음 명령어를 가리킴
...
```

### 프로그램 vs 프로세스

```jsx
크롬 새 탭을 두개 열면서 워드 파일에 프린터 버튼을 클릭하고,카카오톡 PC에 로그인을 하자.
여기서 **프로그램은 실행파일인 크롬, 워드, 카카오톡**이다.

그렇다면 프로세스는 무엇일까?

**프로세스**는 프로그램이 구동될 때 메모리 상에 실행되는 작업이므로
**크롬 탭 두개가 실행되는 작업, 워드 프린트 작업, 카카오톡 PC에 로그인하는 작업**이 된다.
```

## 스레드 Thread

: CPU의 기본단위, 경량화된 프로세스, 프로세스 내에서 실제로 작업을 수행하는 주체

- 모든 프로세스에는 한 개 이상의 스레드가 존재하여 작업을 수행
- 두 개 이상의 스레드를 가지는 프로세스를 멀티스레드 프로세스(multi-threaded process)

- 하나의 프로세스에 다수의 스레드가 붙을 수 있음 → 프로세스 자원 공유(Code, Data, Heap) 
각 스레드는 Stack부분만 따로 갖고있음
- 공통된 자원을 가지고 있기때문에, Context Switching이 일어날때 캐싱 적중률 올라감

### 왜 프로세스가 아닌 스레드가 최소단위일까?

동일한 목적을 가진 프로세스가 여러 개가 된다면 code, data, stack을 따로 만들어야함
하지만 같은 일을 한다면 필요한 데이터를 굳이 2번 만들 이유가 없음 
( 같은 일 처리 위해 동일한 프로그램을 여러 프로세스로 만들면 그만큼 메모리 차지, PCB 생성 필요 )

→ data의 각 부분만 다르게 읽어서 수행하는 것이 더 효율적인 방법
(stack영역은 스레드간 구분해서 사용함)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d0abbd21-eecf-4772-8d4d-e7e55e5aa098/Untitled.png)

## 메모리 Memory

: 프로세스가 필요한 요소가 있는 장소

영역 : Stack, Heap, Data, Code

```
**[ Mermory ]**

Code : 실행 명령을 포함하는 코드
Data : Static 변수 혹은 Global 변수
Heap : 동적 메모리 영역
Stack : 지역변수, 매개변수, 반환값 등 일시적인 데이터
```

## Context Switching

: 현재 진행하고있는 Task(Process, Thread)의 상태를 저장하고 다음 Task의 상태값을 읽어 적용하는 과정

### 왜 Context Switching이 필요할까?

- 컴퓨터가 매번 하나의 Task만 처리할 수 있다면..
해당 Task가 끝날때까지 다음 Task는 기다릴 수 밖에 없음
→ 반응 속도가 느리고 사용하기 불편함
- 그럼 많은 사용자가 동시에 사용하기 위해서는?
multitasking이 가능해야함
빠른 속도로 Task를 바꿔가며 실행 →겉으로 볼때는 실시간으로 보이는 장점
**CPU가 Task를 바꿔가며 실행하기위해**는 Context Switching이 필요

### 어떻게 Context Switching이 진행될까?

- Task의 대부분 정보는 Register에 저장되고, PCB(Process Control Block)으로 관리됨
- 현재 실행하고 있는 Task의 PCB정보를 저장하게 됨
- 다음 실행할 Task의 PCB정보를 읽어 Register에 적재하면, CPU가 이전에 진행했던 과정을 연속적으로 수행할 수 있음

## 멀티스레드 Multi-Thread

: 다수의 스레드를 이용하여 하나의 프로그램을 동시에 처리하는것

멀티프로세스와는 달리 하나의 프로세스 자체에 다수의 실행단위(Thread)가 존재해, 작업 수행에 필요한 자원들을 공유 →자원의 생성과 관리가 중복되는 것을 막음

## 멀티프로세스 vs 멀티스레드

공통점 : 둘 다 처리방식의 일종임 (ex 한 어플리케이션에 대한 처리방식)

여러개의 창 띄워놓는 것 ≠ 멀티프로세스

![Multi - process](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0e3f2ca0-3dca-465f-a669-0f3c6633b7ef/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2022-11-09_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.56.40.png)

Multi - process

부모 프로세스에서 자식 프로세스를 여러개 만들어서 (`fork()`) 일을 처리하게됨

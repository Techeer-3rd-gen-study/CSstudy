### 쿠키

- 쿠키는 서버에 데이터를 보낼 수 있음
- 서버에서 받는 데이터 중 브라우저에 저장하고 싶은 데이터가 있을텐데 그걸 쿠키에 저장할 수 있고
    
    유효기간이 있으며 정해진 경로에만 전달할  수있음
    
- 인증 뿐 아니라 여러 정보를 저장할 수 있음
- 브라우저 접속 할 때 저장해둔 것을 서버로 보낸다.
- 쿠키는 브라우저에서만 가능함 네이티브앱은 지원안함
    
    >> 이럴 때 토큰을 사용함 
    

### 토큰(그냥 이상하게 생긴 string임)

- 쿠키를 대신해서 네이티브 앱에서 세션id처럼 세션db에서 찾을수있는 토큰 전달해준다.

### jwt의 등장 배경(jwt <-> session)

>> 토큰을 사용함

- 세션을 이용하는데 요청이 있을때 마다 DB를 찾고 해야한다는 것
- 그래서 유저가 늘어날 때마다 db에 유저를 계속 추가해야해서 엄청 커져버림
- jwt는 토큰을 사용하며이고 세션 db처럼 따로 데이터를 가지고 있지 않아도 되고 서버는 유저 인증을 위해 많은 일을 하지 않아도 됨

### jwt

- 유저 id를 사인 알고리즘을 통해 토큰 string을 생성하고
    
    그걸 체크해서 유효하면 유저인증을 해준다. 
    
- 따로 db에서 안꺼내고오고(즉, db가 필요없음) 유효한지 검증만 진행함
- jwt는 알고리즘을 이용해 인코딩 하지만 암호화되진 않았다.
- 서버는 단지 토큰이 유효한지만 판단
- db없이 처리하는게 장점임

### 세션

- http는 stateless 임
- 메모리가 없어서 요청이 끝나면 서버는 모른다.
- 그래서 요청할때마다 계속 알려줘야한다.
    
    >> 그럴 때 사용하는게 세션임 
    
- 로그인 하게 되면 그 유저에 대한 데이터베이스
    
    즉, 세션 db에 추가가 되고 그 데이터 안에는 session id 가 생성된다. 
    
- 이런 db는 db를 사고 유지해야하는데 보통 redis를 사용함
- 세션은 별도의 id가 잇어 쿠키를 통해 브라우저로 돌아옴 (세션 db)

### 요약

```
**쿠키** = 그냥 옮기는 시스템 , 매개체 

**토큰** = 서버가 기억하는 이상하게 생긴 텍스트 (id 카드 같은거)

**jwt** : 정보를 갖고 있는 토큰. db없이 검증할 수 있음 

유저 인증을 위해서 jwt or 세션을 사용할 수 있음
```
